<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:ChepaMotos.Views"
             x:Class="ChepaMotos.Views.MainLayout"
             NavigationPage.HasNavigationBar="False">

    <Grid ColumnDefinitions="224,*">

        <!-- ═══════════════════════════════════════════ -->
        <!-- SIDEBAR (224px, dark)                       -->
        <!-- ═══════════════════════════════════════════ -->
        <Grid Grid.Column="0"
              BackgroundColor="{StaticResource Sidebar}"
              RowDefinitions="Auto,*,Auto"
              Padding="0">

            <!-- Brand / Logo area -->
            <VerticalStackLayout Grid.Row="0" Padding="20,24,20,20" Spacing="2">
                <Label Text="Chepa Motos"
                       FontFamily="IBMPlexSansBold"
                       FontSize="18"
                       TextColor="{StaticResource White}" />
                <Label Text="Sistema de facturación"
                       FontFamily="IBMPlexSans"
                       FontSize="11"
                       TextColor="{StaticResource TextMuted}" />
            </VerticalStackLayout>

            <!-- Navigation items -->
            <VerticalStackLayout Grid.Row="1" Spacing="0" Padding="8,0">

                <!-- Inicio (selected) -->
                <Border x:Name="NavInicio"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 6"
                        BackgroundColor="#2A2822"
                        Padding="0"
                        Margin="0,2">
                    <Label Text="Inicio"
                           Style="{StaticResource SidebarNavLabelSelected}" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnNavTapped" CommandParameter="Inicio" />
                    </Border.GestureRecognizers>
                </Border>

                <!-- Facturas -->
                <Border x:Name="NavFacturas"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 6"
                        BackgroundColor="Transparent"
                        Padding="0"
                        Margin="0,2">
                    <Label Text="Facturas"
                           Style="{StaticResource SidebarNavLabel}" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnNavTapped" CommandParameter="Facturas" />
                    </Border.GestureRecognizers>
                </Border>

                <!-- Liquidaciones -->
                <Border x:Name="NavLiquidaciones"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 6"
                        BackgroundColor="Transparent"
                        Padding="0"
                        Margin="0,2">
                    <Label Text="Liquidaciones"
                           Style="{StaticResource SidebarNavLabel}" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnNavTapped" CommandParameter="Liquidaciones" />
                    </Border.GestureRecognizers>
                </Border>

                <!-- Dashboards -->
                <Border x:Name="NavDashboards"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 6"
                        BackgroundColor="Transparent"
                        Padding="0"
                        Margin="0,2">
                    <Label Text="Dashboards"
                           Style="{StaticResource SidebarNavLabel}" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnNavTapped" CommandParameter="Dashboards" />
                    </Border.GestureRecognizers>
                </Border>

                <!-- Mecánicos -->
                <Border x:Name="NavMecanicos"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 6"
                        BackgroundColor="Transparent"
                        Padding="0"
                        Margin="0,2">
                    <Label Text="Mecánicos"
                           Style="{StaticResource SidebarNavLabel}" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnNavTapped" CommandParameter="Mecanicos" />
                    </Border.GestureRecognizers>
                </Border>

            </VerticalStackLayout>

            <!-- CTA Buttons at bottom -->
            <VerticalStackLayout Grid.Row="2" Padding="12,0,12,16" Spacing="8">

                <BoxView HeightRequest="1" Color="#2A2822" Margin="0,0,0,8" />

                <Button Text="Factura de Servicio"
                        Style="{StaticResource CtaAccentButton}"
                        HorizontalOptions="Fill"
                        Clicked="OnServiceInvoiceClicked" />

                <Button Text="Factura de Venta"
                        Style="{StaticResource CtaBlueButton}"
                        HorizontalOptions="Fill"
                        Clicked="OnDeliveryInvoiceClicked" />

            </VerticalStackLayout>

        </Grid>

        <!-- ═══════════════════════════════════════════ -->
        <!-- MAIN CONTENT AREA                           -->
        <!-- ═══════════════════════════════════════════ -->
        <ContentView x:Name="ContentArea"
                     Grid.Column="1"
                     BackgroundColor="{StaticResource Background}">
            <views:HomeView />
        </ContentView>

    </Grid>

</ContentPage>
